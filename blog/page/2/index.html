<!DOCTYPE html>
<html lang="en-us">
    <head>
  <title> Blog (page 2) &middot; Jeremy Rubin </title>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">


  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/font-awesome-4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  
  <link type="application/atom+xml" rel="alternate" href="http://rubin.io/feed.xml" title="Jeremy Rubin" />


  <!-- GA -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-40376251-1', 'auto');
    ga('send', 'pageview');
</script>

  
  <link rel="me" href="https://twitter.com/JeremyRubin" >
  <meta name="twitter:dnt" content="on">
			   <script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return t;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);

  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };

  return t;
}(document, "script", "twitter-wjs"));</script>

</head>

    <body>
        <div class="sidebar">
    <h3 style="text-align: center;"> <a href="/"> Jeremy Rubin </a> </h3>
    <div class="container">
        <div class="sidebar-about">

            <div class="sidebar-about-info"> 
                <a href="/public/pdfs/resume.pdf"><i class="fa fa-file-text-o" title=Resume></i></a>
                <a href="https://github.com/jeremyrubin"><i class="fa fa-github" title=Github></i></a>
                <a href="https://twitter.com/JeremyRubin"><i class="fa fa-twitter" title=Twitter></i></a>
            </div>
            <div class="sidebar-about-info hide-large">
                <a class="" href="/">Home</a>
                <a class="" href="/blog/">Blog</a>
                <a class="" href="/talks/">Talks</a> 
                <a class="" href="/projects/">Projects</a>
                <a class="" href="/archive/">Site Index</a>
            </div>
        </div>




        <nav class="sidebar-nav hide-small">
            <a class="sidebar-nav-item" href="/">Home</a>
            <a class="sidebar-nav-item" href="/blog/">Blog</a>
            <a class="sidebar-nav-item" href="/talks/">Talks</a> 
            <a class="sidebar-nav-item" href="/projects/">Projects</a>
            <a class="sidebar-nav-item" href="/archive/">Site Index</a>
        </nav>
    </div>
</div>



        <div class="content container" style="padding-bottom:0;">
            <div class="page">
    
    
    <h1>
  Jeremy Rubin's Blog
</h1>

Here you'll find an assorted mix of content from yours truly. I post about a lot
of things, but primarily <a href="/bitcoin/">Bitcoin</a>.

<p>
categories: <a href="/bitcoin/">Bitcoin</a>, <a href="/shenzhen/">Shenzhen Journey</a>.
</p>
<div class="posts">
  
<hr>
  <div class="post">
    <h2 class="post-title">
        <a href="/blog/2021/07/02/covenants/">
        Templates, Eltoo, and Covenants, Oh My!
      </a>
  </h2>
  


    <span class="post-date">02 Jul 2021</span>

    <p><img src="/public/img/post-covenant-meme.png" alt="" /></p>

<p>If you’ve been following The Discourse, you probably know that Taproot is
merged, locked in, and will activate later this November. What you might not
know is what’s coming next… and you wouldn’t be alone in that. There are a
number of fantastic proposals floating around to further improve Bitcoin, but
there’s no clear picture on what is ready to be added next and on what
timeline. No one – core developer, technically enlightened individuals, power
users, or plebs – can claim to know otherwise.</p>

<p>In this post I’m going to describe 4 loosely related possible upgrades to
Bitcoin – SH_APO (BIP-118), OP_CAT, OP_CSFS, and OP_CTV (BIP-119). These four
upgrades all relate to how the next generation of stateful smart contracts can
be built on top of bitcoin. As such, there’s natural overlap – and competition
– for mindshare for review and deployment. This post is my attempt to stitch
together a path we might take to roll them out and why that ordering makes
sense. This post is for developers and engineers building in the Bitcoin space,
but is intended to be followable by anyone technical or not who has a keen
interest in Bitcoin.</p>

<h2 id="bitcoin-eschews-roadmaps-and-agendas">Bitcoin Eschews Roadmaps and Agendas.</h2>

<p>I provide this maxim to make clear that this document is by no means an
official roadmap, narrative, or prioritization. However, it is my own
assessment of what the current most pragmatic approach to upgrading Bitcoin is,
based on my understanding of the state of outstanding proposals and their
interactions.</p>

<p>My priorities in producing this are to open a discussion on potential new
features, risk minimization, and pragmatic design for Bitcoin.</p>

<h3 id="upgrade-summaries">Upgrade Summaries</h3>

<p>Below follows summaries of what each upgrade would enable and how it works. You
might be tempted to skip it if you’re already familiar with the upgrades, but I
recommend reading in any case as there are a few non obvious insights.</p>

<h4 id="apo-sighash_anyprevout-sighash_anyprevoutanyscript">APO: SIGHASH_ANYPREVOUT, SIGHASH_ANYPREVOUTANYSCRIPT</h4>

<p>Currently proposed as
<a href="https://github.com/bitcoin/bips/blob/d616d5492bc6e6566af1b9f9e43b660bcd48ca29/bip-0118.mediawiki">BIP-118</a>.</p>

<p>APO provides two new signature digest algorithms that do not commit to the coin
being spent, or the current script additionally. Essentially allowing scripts
to use outputs that didn’t exist at the time the script was made. This would be
a new promise enforced by Bitcoin (ex. “You can close this Lightning channel
and receive these coins if you give me the right proof. If a newer proof comes
in later I’ll trust that one instead.”).</p>

<p>APO’s primary purpose is to enable off chain protocols like
<a href="https://blockstream.com/2018/04/30/en-eltoo-next-lightning/">Eltoo</a>, an
improved non-punitive payment channel protocol.</p>

<p>APO can also
<a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-June/017038.html">emulate</a>
some of the main features of CTV and could be made to work with Sapio,
partially. See the complimentary upgrades section for more detail.</p>

<h4 id="cat--variants">CAT (+ variants)</h4>

<p>Currently no BIP. However, CAT exists in
<a href="https://github.com/ElementsProject/elements/blob/bd2e2d5c64d38286b2ca0519f1215bed228e4dcf/src/script/interpreter.cpp#L914-L933">Elements</a>
and <a href="https://github.com/bitcoincashorg/bitcoincash.org/blob/3e2e6da8c38dab7ba12149d327bc4b259aaad684/spec/may-2018-reenabled-opcodes.md">Bitcoin
Cash</a>
as a 520 byte limited form, so a proposal for Bitcoin can crib heavily from
either.</p>

<p>Cat enables appending data onto other pieces of data. Diabolically simple
functionality that has many advanced use cases by itself and in concert with
other opcodes. There are many “straightforward” use cases of cat like requiring
sighash types, requiring specific R values, etc, but there are too many devious
use cases to list here.  Andrew Poelstra has a decent blogpost series (<a href="https://www.wpsoftware.net/andrew/blog/cat-and-schnorr-tricks-i.html">part
1</a> and
<a href="https://www.wpsoftware.net/andrew/blog/cat-and-schnorr-tricks-ii.html">part
ii</a>) if
you’re interested to read more. In particular, with much cleverness, it seems
possible one could implement full covenants with just CAT, which covers
(inefficiently) most of the other techniques discussed in this post.</p>

<h4 id="csfs-checksigfromstack">CSFS: CHECKSIGFROMSTACK</h4>

<p>Currently no BIP. However, CSFS exists in
<a href="https://github.com/ElementsProject/elements/blob/bd2e2d5c64d38286b2ca0519f1215bed228e4dcf/src/script/interpreter.cpp#L1580-L1618">Elements</a>
and in <a href="https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/op_checkdatasig.md">Bitcoin
Cash</a>,
so a proposal for Bitcoin can crib heavily from either.</p>

<p>CSFS enables checking of a signature against a message and key from the stack
without including any transaction data.</p>

<p>Use cases include oracle protocols, key delegations, a <a href="https://stanford2017.scalingbitcoin.org/files/Day1/SB2017_script_2_0.pdf">channel update
invalidation
variant</a>
(Laolu claims this can be tweaked to be fully non punitive like eltoo, but
you’ll need to bug him to write it up), and (+CAT) full covenants.</p>

<h4 id="ctv-op_checktemplateverify">CTV: OP_CHECKTEMPLATEVERIFY</h4>

<p>Currently proposed as
<a href="https://github.com/bitcoin/bips/blob/master/bip-0119.mediawiki">BIP-119</a>.</p>

<p>CTV enables committing to a specific “next” transaction from script. This is
the ability to make an unbreakable promise on chain which Bitcoin can enforce
(e.g. “This coin can only be spent to my multisig, or my backup after a
timelock”). This is a departure from normal script which is traditionally only
concerned with restrictions on the sender, CTV imposes restrictions on the
recipient. More technically, CTV is essentially the ability to embed a
signature of a specific transaction inside of a script without needing any
elliptic curve operations. The validation costs are low. For more advanced
logic, you can nest multiple different CTV Hashes either using taproot or up to
the script length limits in regular script.</p>

<p>CTV can be used for vaults, channels, and <a href="https://utxos.org/uses/">many other
uses</a>. There’s also
<a href="https://learn.sapio-lang.org">Sapio</a> which is a language and toolkit for
creating many kinds of programs with CTV.</p>

<p>CTV compliments CSFS to be able to emulate APO-like functionality
sufficient to build Eltoo, potentially making APO feature-wise redundant.</p>

<h2 id="comparative-analysis">Comparative Analysis</h2>

<p>Now that we’ve got the basics covered, let’s explore these upgrades
comparatively across several dimensions.</p>

<h3 id="design-specificity">Design Specificity</h3>

<p>“Design Specificity” is a subjective measure of how substantially an upgrade
could change from its current design while still meeting the features goals. It
is not to be confused with security or safety. Ranked in order from most to
least design specific, with non-exhaustive lists of design questions based on
ongoing community discourse as well as my own personal understanding of what
might be desirable.</p>

<ol>
  <li>CSFS</li>
  <li>CTV</li>
  <li>CAT</li>
  <li>APO</li>
</ol>

<h4 id="explanations--open-questions">Explanations &amp; Open Questions:</h4>
<ol>
  <li>CSFS is very simple and there is essentially a single way to implement it. Three open questions are:
    <ol>
      <li>Should CSFS require some sort of tagged hash? Very likely answer is no –
tags interfere with certain use cases)</li>
      <li>Should CSFS split the signature’s R &amp; S value stack items for some
applications that otherwise may require OP_CAT? E.g. using a pinned R
 value allows you to extract a private key if ever double signed, using 2 R
 values allows pay-to-reveal-key contracts. Most likely answer is no, if that is
 desired then OP_CAT can be introduced</li>
      <li>Should CSFS support a cheap way to reference the taproot internal or
external key? Perhaps, can be handled with undefined upgradeable
 keytypes. One might want to use the internal key, if the signed data should be
 valid independent of the tapscript tree.  One might want to use the external
 key, if the data should only be valid for a single tapscript key + tree.</li>
    </ol>
  </li>
  <li>CTV is a commitment to all data that can malleate TXID besides the inputs
being spent, therefore CTV does not have much space for variation on design.
    <ol>
      <li>Should the digest be reordered or formatted differently? If there were
more data on what types of covenants might be built in the future, a
 better order could be picked. Some thought has already gone into an order and
 commitments that make covenants easier, see the BIP for more. It’s also
 possible the serialization format for the variable length fields (scriptsigs,
 outputs) could be changed to make it easier to work with from script. (Maybe,
 minor change)</li>
      <li>Should CTV include more template types? Possibly, CTV includes an upgrade
mechanism baked in for new template types, so it is extensible for future
 purposes.</li>
      <li>Should CTV commit to the amounts? CTV does not commit to the amount that
a coin has. Input-inspecting functionality should be handled by separate
 opcodes, as CTV would be overly restrictive otherwise. E.g. dynamic fees
 through new inputs would be harder: given CTV’s design it is not possible to
 detect which field did not match therefore it is not possible to script against
 unexpected amount sent errors without some compromise (e.g. timeouts).</li>
    </ol>
  </li>
  <li>CAT is simplistic, and there are really few ways to implement it. However,
because it requires some restrictions for security, there are difficult to
 answer open design questions:
    <ol>
      <li>What is the appropriate maximum stack size CAT should permit? Currently
the design in Elements is 520 bytes, the max general stack size permitted
 in script.</li>
      <li>Should CAT be introduced or
<a href="https://github.com/ElementsProject/elements/pull/817">SHASTREAM</a>,
 SUBSTRING, or another variant? There is a strong argument for SHASTREAM because
 when constructing covenants (e.g. for use with CTV) based on TX data it’s
 possible for size of a data field (e.g., serialization of all outputs) to
 exceed 520 bytes.</li>
    </ol>
  </li>
  <li>There are many tough questions that the community has grappled with during
APO’s design and engineering process, generally asking how APO-like
 techniques can be made ‘Generally Safe’ given iit breaks current assumptions
 around address reuse.
    <ol>
      <li>Should APO require chaperone signatures (in order to ensure that replay
is not done by 3rd parties)? Current Answer: No, anyone is free to burn
 their keys by revealing them to similar effect.</li>
      <li>Should APO use key tagging to mark keys that can use APO: Current Answer:
yes, APO should be “double opt-in” (both requiring a tag and a signer to
 produce such a signature)</li>
      <li>Should APO allow signing with the external taproot key: Current Answer:
no, because it makes APO not “double opt-in”.</li>
      <li>Should APO optimize signing with the internal taproot key? Answer:
default key 0x01 refers to taproot internal key, so it can be made
 cheaper if you’re going to need it without having to repeat the entire key.</li>
      <li>Should APO commit to the signing script? Answer: let’s do two variants.</li>
      <li>Should APO instead be a larger refactoring of sighash logic that
encapsulates APO (e.g. sighash bitmasks)? Current Answer: No, APO is good
 enough to ship as is and doesn’t preclude future work.</li>
    </ol>
  </li>
</ol>

<h3 id="safety">Safety</h3>

<p>This category covers how “safe” each change is ranked from safest to least
safe. What makes a change more or less safe is how limited and foreseeable the
uses are of a specific opcode, in other words, how well we understand what it
can do or where it might interact poorly with deployed infrastructure.</p>

<ol>
  <li>CTV</li>
  <li>CSFS</li>
  <li>APO</li>
  <li>CAT</li>
</ol>

<p>CTV is the safest new feature since fundamentally what it introduces is very
similar to what can be done with pre-signed transactions, so it is only a pivot
on trust and interactivity. Where there is some risk from CTV is that addresses
(or rather, invoices) that are reused might have the same program behind them
which could cause unintended behavior. This differs from the reuse problem in
APO because the problem is stateless, that is, if you verify what is behind an
address you will know what exists and does not exist. E.g., two payment channel
addresses will create distinct payment channels that updates cannot be replayed
across. In contrast with APO, paying one APO using address twice creates two
instances of the same channel, state updates from one channel can be used on
the other.</p>

<p>CSFS is the next safest, it is just a small piece of authenticated data. CSFS
and CTV are relatively close in terms of safety, but CSFS is slightly less safe
given a remote possibility of surprising  uses of it to perform unforeseen
elliptic curve operations. This functionality already exists for up to 5-byte
messages. A hash preimage revelation can emulate a signer compactly. Using
binary expansions and addition could be used to allow signing of values more
compactly (e.g., 2x16x32 byte hashes could be used to construct a signature of
a post-hoc selected Sequence lock). <a href="/blog/2021/07/02/signing-5-bytes/">Read more here</a>. Therefore it is appropriate to think of
CSFS as an expansion of the efficiency of this technique, reusability of keys,
and the types of data that can be signed over. Although CSFS is famously used
to build covenants by comparing a CSFS signature to a CHECKSIG signature and
getting transaction data onto the stack, CSFS cannot do that without CAT.</p>

<p>APO. This is the next safest because APO has some questions around key reuse
safety and statefulness of information. See the above description in CTV for
why this is tangibly worse for APO than CTV. <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-September/002176.html">See more discussion of APO’s
safety &amp; design trade offs
here</a>.</p>

<p>CAT is the least ‘safe’ in terms of extant Bitcoin concepts as it is highly
likely CAT introduces at least advanced covenants if added, especially in
conjunction with the above opcodes, but may also enable other unintended
functionality. CAT is a source of continual surprise with regards to what it
enables in composition with existing opcodes, therefore a systematic review of
composability and known uses should be done before considering it. That CAT was
forked out by Satoshi is of limited relevance as the variant proposed for
reintroduction would not have the vulnerability present initially.</p>

<h3 id="complimentary-upgrades">Complimentary Upgrades</h3>

<p>Pairings of upgrades can work together to deliver functionality that neither
could alone:</p>

<ol>
  <li>CAT + CSFS: full blown arbitrary covenants
    <ol>
      <li>With arbitrary covenants you can deploy many different kinds of smart
contracts which are out of scope for this article.</li>
    </ol>
  </li>
  <li>CAT + CTV: Expanded covenants
    <ol>
      <li>slightly simpler to use interface but fewer features than CSFS + CAT which can
covenant over witness data and inputs.</li>
    </ol>
  </li>
  <li>CTV + CSFS: Eltoo
    <ol>
      <li>This can add very similar functionality to eltoo with the script fragment:
 <code class="language-plaintext highlighter-rouge">CTV &lt;musig(pka, pkb)&gt; CSFS &lt;S+1&gt; CLTV</code>
 The protocol is essentially identical to the Eltoo paper, however there are
 a couple subtle differences required for dynamic fee rates.</li>
    </ol>
  </li>
  <li>CTV + APO: Slightly Different
    <ol>
      <li>Several sources have claimed that APO offers a strict superset
of CTV’s functionality (but not efficiency). This is false. Their digests
are slightly different, as such there are some niche smart contracts that could
use the differences in commitment structure for interesting effects (CTV
commits to all scriptsigs and sequences, APO cannot cover that data but can
cover a few variants of less data covered).</li>
    </ol>
  </li>
</ol>

<p>By all means not an exhaustive list – feel free to message me with additions.</p>

<h3 id="recommendation">Recommendation</h3>

<p>My recommendation is to deliver the upgrades described in this document in the
following order:</p>

<ol>
  <li>CTV</li>
  <li>CSFS</li>
  <li>APO</li>
  <li>CAT/SHASTREAM/SUBSTRING/etc</li>
</ol>

<p>This recommendation comes as a synthesis of the thoughts above on the
composability, safety, and open design considerations of the various proposals
currently in flight.</p>

<p>With CTV in place, we can begin experimenting with a wide variety of contracts
using the Sapio toolchain, as well as improve and invest in maturing the
toolchain. Mature toolchains will make it easier to safely engineer and deploy
applications making use of CTV and future upgrades.</p>

<p>CSFS is an independent change that can be deployed/developed in parallel to or
before CTV, the implementation from Elements could be easily ported to Bitcoin.
With CSFS and CTV, Eltoo-like constructions will be possible as well.</p>

<p>APO can then be deployed as an optimization to existing use patterns driven by
market adoption of CTV+CSFS based use. This also gives us time to kick the can
down the road on the design questions that APO prompts around generalization of
signature digests and key reuse safety.  A similar approach was <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-May/016996.html">discussed on
the mailing
list</a>,
but without the insight that CSFS + CTV was sufficient for Eltoo like
constructions, requiring CAT instead.</p>

<p>Lastly, OP_CAT can be delivered as part of an effort towards generalized
arbitrary covenants and perhaps in conjunction with some special purpose
opcodes (such as OP_CHECKINPUT) that can more easily handle common cases. CAT,
although it has safe implementations used in Elements, deserves very strict
scrutiny given it’s documented surprising uses.</p>

<p>This approach represents a gradual relaxation of Bitcoin’s restrictions around
smart contract programming that introduces useful, safe primitives and gives
the community time to build and deploy useful infrastructure. The path
described in this post is an opportunity to upgrade bitcoin with simple
primitives that compose nicely for permissionless innovation.</p>

<p><em>Thanks to those who reviewed drafts of this post and provided valuable
feedback improving the clarity and accuracy of this post, including
<a href="https://github.com/pyskell">pyskell</a>, <a href="https://twitter.com/ProofOfKeags">Keagan
McClelland</a>, <a href="https://twitter.com/RyanTheGentry">Ryan
Gentry</a>, and <a href="https://twitter.com/roasbeef">Olaoluwa
Osuntokun</a>. Edit + Feedback ≠ Endorsement.</em></p>

  </div>
<hr>
  
<hr>
  <div class="post">
    <h2 class="post-title">
        <a href="/blog/2017/09/27/scaling-diversity-and-inclusion/">
        Open Letter on Diversity & Inclusion at Scaling Bitcoin
      </a>
  </h2>
  <h4>ATTN&#58; Scaling Bitcoin Participants and Sponsors</h4>


    <span class="post-date">27 Sep 2017</span>

    <p>We started <a href="https://scalingbitcoin.org">Scaling Bitcoin</a> with a deep commitment to diversity and inclusion.
Fundamentally, Scaling Bitcoin is about bringing together elements of the
Bitcoin community that would not otherwise – many of the core contributors met
face to face for the first time in Montreal. Meeting face to face was a
fantastic opportunity to bridge divides and seek common goals; at Scaling
Bitcoin spontaneous discussions broke out which would have never occurred
online. Diversity and inclusion are key elements in pulling together different
parts of our community to have the discussions fruitfully. Fundamentally
Scaling Bitcoin exists to work towards eliminating any barrier to entry for any
person to contribute to Bitcoin’s scientific and engineering ecosystem.</p>

<p>Diversity and inclusion are complicated multi-faceted topics – at Scaling
Bitcoin, we do our best to address them from all sides. Our conference aspires
to be in a different region every time, from our first event in Montreal, to
Hong Kong, to Milan, and now, to Silicon Valley. Our participants and sponsors
come from all over the world (18 countries at the last event!), speak many
different languages, and have vastly different perspectives on how we’ll
accomplish our shared goal of Scaling Bitcoin.</p>

<p>We help people attend Scaling Bitcoin who would not be able to otherwise as a
part of our diversity and inclusion efforts. This help comes in multiple forms,
including discounted tickets for students, as well as travel and accommodation
assistance for those who require it. Our chief concern is getting the
individuals most likely to contribute to Bitcoin’s scientific and engineering
ecosystem to the conference. We also try to help those who face additional
difficulties to better integrate into the community. In past Scaling Bitcoins,
this has included efforts and special programming through our academic
supporting organizations to better socially integrate low-income, minority, and
female participants at Scaling Bitcoin. For example, at Milan one of our
Academic partners (<a href="http://dci.mit.edu">The MIT DCI</a>) hosted a special dinner for the students from
their summer bootcamp (<a href="https://medium.com/mit-media-lab-digital-currency-initiative/apply-now-mit-intro-to-cryptocurrencies-bootcamp-for-underrepresented-minorities-and-women-ba85fa8fc898">you can read about it
here</a>)
to get to interact with some core developers in a smaller group setting.</p>

<p>Bitcoin developers and scientists don’t just materialize overnight, it requires
diligent study and effort. This is an intimidating prospect for almost anyone,
and many capable developers drop out for lack of good support. Initiatives like
<a href="http://chaincode.com">Chaincode</a>’s <a href="http://bluematt.bitcoin.ninja/2016/08/08/chaincode/">Hacker
Residency</a> and
<a href="https://www.dglab.com/en/">DGLAB</a>’s <a href="https://bc-2.jp/">BC2</a> workshop have been
wildly successful in nurturing talented Bitcoin Core Developers. Scaling
Bitcoin is simply doing our part to onboard more talent. Explicitly seeking to
onboard talent from diverse backgrounds is a critical for engineering Bitcoin
to be an empowering technology to meet the needs of users all over the world.
The last several decades of research on the subject shows that seeking out
social diversity leads to better decision-making across the board (<a href="https://www.scientificamerican.com/article/how-diversity-makes-us-smarter/">read about
the research
here</a>).</p>

<p>This year, as a part of our efforts to improve Scaling Bitcoin by better
structuring our Planning Committee we created a Diversity &amp; Inclusion
Committee. This committee is comprised of individuals who were excited to help
us to continue our efforts around diversity and inclusion. One of the main
tasks for this committee is to help us review and process subsidy requests,
which are awarded based on many factors, including, likelihood of contributing
to Bitcoin’s scientific and engineering ecosystem, demonstrated need, and total
cost (we have a limited budget, after all). Despite now having an explicit
committee for diversity and inclusion, it continues to be the job of every
volunteer in Scaling Bitcoin to work towards eliminating any barrier to entry
for any person to contribute to Bitcoin’s scientific and engineering ecosystem.
Different people experience different barriers to entry to a field like
Bitcoin, thus, the kinds of support programs we offer are not always available
to everyone (we can’t afford to give everyone student ticket pricing!). The
Diversity &amp; Inclusion Committee is there to ensure that our efforts are fair
and sufficient.</p>

<p>Technology conferences like Scaling Bitcoin present a remarkable opportunity
for building community. In light of recent reports of incidents of harassment
and exclusionary practices at tech conferences, we’ve take a progressive stance
on making sure that Scaling Bitcoin remains a respectful and safe space for all
of our participants to build that community. Incidents of harassment and
exclusionary practices negatively impact people of all genders, races, and
backgrounds, as well as the conferences and their communities. We take such
issues seriously and have required all participants to follow our <a href="https://scalingbitcoin.org/code-of-conduct">Code of
Conduct</a> since the first Scaling Bitcoin event in 2015.</p>

<p>Part of what makes Scaling Bitcoin such a remarkable gathering is the intense
level of focus on the technology during the event. Our CoC exists to minimize
the possibility of distractions and to maximize the learning, shared
understanding and technical advancement of one of the most important
engineering projects of our time. We hope that our attendees recognize and
support that objective, and the organizing committee will as well.</p>

<p>Additionally, the Program Committee, which handles talk selection, operates
with complete autonomy from the rest of the Scaling Bitcoin organization,
including the Diversity &amp; Inclusion Committee. No one is excluded from the
conference as a result of our diversity and inclusion efforts. The main goal of
the Program Committee is to unbiasedly select talks with the highest potential
impact on Bitcoin. The majority of tickets are sold openly to the public. We
welcome any suggestions and ideas from the Bitcoin community as to how our
efforts can be more effective and we will continue to do our best to make
Bitcoin a more diverse and inclusive environment.</p>

<p>We’re excited to be hosting what we expect to be the best Scaling Bitcoin yet
this year. To increase our reach and impact in the community, we’re hosting a 2
Day tutorial preceding Scaling Bitcoin called Dev++. This is a wonderful
opportunity for those just entering the space to get fast-paced high-quality
instruction on becoming a Bitcoin Engineer. Following the conference, we will
have a Career Fair and an event for startups to pitch to investors. You can
read more about these new initiatives at
<a href="https://bitcoinedge.org">BitcoinEdge.org</a>.</p>

<p>Sincerely,</p>

<p>Jeremy Rubin</p>

<p>Scaling Bitcoin Planning Committee</p>

<p><em>With special thanks to <a href="https://twitter.com/byrongibson">Byron Gibson</a>, <a href="https://twitter.com/neha">Neha
Narula</a>, and the rest of the Scaling Bitcoin Planning
Committee for reviewing and editing this letter, and for maintaining a strong
commitment to diversity and inclusion in Bitcoin.</em></p>

  </div>
<hr>
  
<hr>
  <div class="post">
    <h2 class="post-title">
        <a href="/blog/2017/09/01/usg-censorship-fuck-nazis/">
        United States Government Censorship of Fuck Nazis Virtual Lapel Pin
      </a>
  </h2>
  <h4>My Right to Say "Fuck Nazis"</h4>


    <span class="post-date">01 Sep 2017</span>

    <p>When I woke up in the morning of September 1st, 2017 I immediately began my
morning ritual of lazily glancing through emails.  On this morning, one
particular email stood out — the Fuck Nazis Virtual
Lapel Pin had been censored by the United States Government.</p>

<p>Let’s jump back a minute for some context.</p>

<p>On August 19th, 2017 I began a new project, the <a href="https://fucknazis.us">Fuck Nazis Virtual Lapel
Pin</a>. The project’s goal was to raise funds to resist the
recent uptick in Nazism and other forms of violent racist extremism in America.
The Fuck Nazis Virtual Lapel Pin is a unique fund-raiser because donors
quid-pro-quo receive a digital asset in return for their contribution, I hoped
this would harness the excitement around the emerging <a href="https://www.sec.gov/oiea/investor-alerts-and-bulletins/ib_coinofferings">“Initial Coin
Offering”</a>
phenomenon.</p>

<p>The reception was not as positive as I had hoped it would be — earlier in
the week, I had been subject to some minor <a href="/blog/2017/09/01/ethereum-censorship-fuck-nazis/">censorship by the Ethereum
Maintainers and Community Moderators</a>.</p>

<p>On September 1st, 2017 at 2:40 AM Pacific Daylight Time Neustar initiated a
transfer of my domain. One hour and 29 minutes later Neustar sent me an email
explaining the transfer.</p>

<p class="center-image"><img src="/public/img/fucknazis.us/unauth-transfer.png" alt="The Takedown" /></p>

<p class="center-image"><img src="/public/img/fucknazis.us/explanation.png" alt="The Takedown" /></p>

<p>I’ve sent Neustar an email requesting that they reinstate my registration, but I’ve not yet heard back from them.</p>

<p class="center-image"><img src="/public/img/fucknazis.us/reinstate-me.png" alt="Request to Reinstate" /></p>

<p>Neustar is a contractor hired by the U.S. Governemnt to operate the .us TLD.
Because they are managing a federally owned property, I beleive they are
obligated to follow the First Amendment with respect to registered names.
Otherwise, I do not think the FCC may legally continue to use them as a
contractor. To quote
<a href="http://www.icannwatch.org/article.pl?sid=02/04/25/082532">ICANNWatch</a>:</p>

<blockquote>
  <p>[W]hile a private entity like Neustar is under no intrinsic obligation to
respect the First Amendment, the fact that they did this under government
consultation, and pursuant to a government-granted charter to operate the
country code registry for the United States, raises serious issues of
Constitutionality.</p>
</blockquote>

<p>It’s not a strange expectation to hold that contractors of the United States
Government must abide by constitutional provisions. For instance, private
prisons are not at liberty to exact cruel and unusual punishments. Kimberly N.
Brown delivers a thorough treatment of this in <a href="http://www.repository.law.indiana.edu/cgi/viewcontent.cgi?article=11083&amp;context=ilj">“We the People,” Constitutional
Accountability, and Outsourcing
Government</a>.
While there are controversial cases, it is generally clear that public actors
must hold accountable private actors that they delegate their constitutional
powers to.</p>

<p>Notwithstanding the concern over whether it is the FCC or Neustar who is
legally culpable, we can safely assume that the FCC is bound to ensure that
Neustar respects constitutional rights in fulfilling their duties as a
government contractor, and therefore examine Neustar as a government actor.</p>

<p>Neustar’s management policy document can be found
<a href="https://www.ntia.doc.gov/files/ntia/publications/ustld2007_07_b_services.pdf">here</a>.
The relevant sections are B-78 and B-98. Neustar claims that they will <em>review</em>
domains which contain the “7 Words” and possibly delete them (presumably,
ensuring that they are not violating the registrant’s First Amendment rights).
Their claim is that the domain <a href="https://fucknazis.us">fucknazis.us</a> violate’s
the “7 Words” policy enforced by Neustar. (This is a reference to George
Carlin’s infamous <a href="https://en.wikipedia.org/wiki/Seven_dirty_words">Seven Dirty
Words</a> skit) In this case, the
presence of “fuck” in the domain is what alerted Neustar to need to review my
domain.  However, in failing to waive <a href="https://fucknazis.us">fucknazis.us</a> I
believe they violated my First Amendment rights.</p>

<p>There are three major relevant Supreme Court cases here,  <a href="https://www.law.cornell.edu/supremecourt/text/403/15">Cohen v. California
(1971)</a>, <a href="https://www.law.cornell.edu/supremecourt/text/413/15">Miller v.
California (1973)</a>, and
<a href="https://supreme.justia.com/cases/federal/us/438/726/case.html">FCC v. Pacifica Foundation (1978)</a>.</p>

<p>In Cohen v. California, a man was arrested for disturbing the peace for wearing
a “Fuck the Draft” shirt. In this case, the speech was found to be protected by 
the First Amendment for multiple reasons. Most relevantly, the court refused to recognize
the speech as “Fighting Words”, or speech intended to elicit violence. This is because
Cohen’s voiced dissent of the draft was not intended to elicit any violence, it was simply
to voice an opinion. Similarly, the material published on the Fuck Nazis site was
clearly in support of non-violent action, e.g.</p>

<blockquote>
  <p>As a first measure, and irrespective of what is most effective, I want to use
funds raised ensure that it is possible to protest these Nazis as safely as
possible. No one should permit the Nazis to intimidate them out of their
freedom to speak against them.</p>
</blockquote>

<p>along with a list of other non-violent actions I would use the funds raised to
support. The court went further to find that</p>

<blockquote>
  <p>Finally, and in the same vein, we cannot indulge the facile assumption that
one can forbid particular words without also running a substantial risk of
suppressing ideas in the process. Indeed, governments might soon seize upon
the censorship of particular words as a convenient guise for banning the
expression of unpopular views. We have been able, as noted above, to discern
little social benefit that might result from running the risk of opening the
door to such grave results.</p>
</blockquote>

<p>This makes it clear that the censorship of Fuck Nazis Virtual Lapel Pins by revocation
of the domain <a href="https://fucknazis.us">fucknazis.us</a> is unconstitutional.</p>

<p>Miller v. California is a case of a very different nature involving the
distribution of pornographic content, but it established a simple three-prong
test for unprotected explicit speech. If you pass all three tests, then the work
is considered obscene.</p>

<blockquote>
  <p>(a) whether “the average person, applying contemporary community standards”
would find that the work, taken as a whole, appeals to the prurient interest.</p>
</blockquote>

<p>Fail: Fuck Nazis is clearly non-pornographic and elicits no sexual response.</p>

<blockquote>
  <p>(b) whether the work depicts or describes, in a patently
offensive way, sexual conduct specifically defined by the applicable state
law.</p>
</blockquote>

<p>Fail: Fuck Nazis is clearly non-sexual.</p>

<blockquote>
  <p>(c) whether the work, taken as a whole, lacks serious literary,
artistic, political, or scientific value. If a state obscenity law is thus
limited, First Amendment values are adequately protected by ultimate
independent appellate review of constitutional claims when necessary.</p>
</blockquote>

<p>Fail: Fuck Nazis is a political and artistic project, and is presented cogently.</p>

<p>Having <em>clearly</em> failed all three tests, Fuck Nazis is non-obscene protected
speech by all measures.</p>

<p>Critically, both Cohen v. California and Miller v. California are both rulings
with regards to the state’s ability to restrict speech. Only FCC v. Pacifica
Foundation deals with the federal government’s ability to restrict “obscene”
speech, which established the “7 Dirty Words”.</p>

<p>The critically relevant part of FCC v. Pacifica Foundation is that the measures
enforce by the FCC (to only broadcast during hours children are unlikely to be
awake) did not prevent adults from accessing and finding the content. In this
case, Neustar’s actions against Fuck Nazis does prevent adults from accessing
the content unadulterated (whereas the time restriction enforced by the FCC
permitted identical material to be broadcast at a reasonably later time).
Furthermore, based on Neustar’s enforced policies I would be able to register
the domain “nazis.us” (if it were available — it’s been held since 2014)
and use the subdomain “fuck” giving me the “fuck.nazis.us” domain. This makes
the case that there is zero benefit from the measure taken by Neustar, at the
expense of the significant burden of forcing me to change a domain that I have
already linked to in numerous communications. Of greater concern is the general
freedom of speech risk established by this enforcement mechanism.</p>

<p>Based on the above, Neustar, acting as an agent of the United States
government, plainly violated my First Amendment rights causing damages to my project
that are difficult to quantify given that  the fund-raiser I was hosting on the site is
ongoing.</p>


  </div>
<hr>
  
<hr>
  <div class="post">
    <h2 class="post-title">
        <a href="/blog/2017/09/01/ethereum-censorship-fuck-nazis/">
        Censorship by Ethereum Maintainers
      </a>
  </h2>
  


    <span class="post-date">01 Sep 2017</span>

    <p>The Ethereum Maintainers and Moderators inexplicably took actions to censor the
Fuck Nazis Virtual Lapel Pin.</p>

<p>When I posted the project to the Ethereum subreddit on August 26th
(<a href="https://www.reddit.com/r/ethereum/comments/6w9vd0/announcing_the_fuck_nazis_virtual_lapel_pin_sale/">here</a>)
it faced an immediate barrage of negative attention from the Ethereum
community. I can tolerate negative reception, but I can’t tolerate
censorship.</p>

<p>One of the negative response I noticed a few days after posting was Vitalik
Buterin (the infamous founder and lead maintainer of Ethereum) liking a
<a href="https://www.reddit.com/r/ethereum/comments/6w9vd0/announcing_the_fuck_nazis_virtual_lapel_pin_sale/">libelous
tweet</a>
which called my project “a shameless attempt at scamming people”. I typically
interpret a like on Twitter as at least a weak endorsement (the twitter-meme
“RT not endorsement” can be taken to imply that while retweeting is not
endorsement, maybe liking is).</p>

<p><a href="https://twitter.com/avsa/status/902163764258144257"> <img src="/public/img/fucknazis.us/vitalik-scam.png" alt="Vitalik likes a libelous tweet" class="center-image" /> </a></p>

<p>From my perspective, Vitalik’s implicit endorsement of a libelous
message claiming that I am perpetrating fraud with Fuck Nazis is the only
shame-worthy action! From day one Fuck Nazis’ course of action has been
focused on many charitable causes, including:</p>

<ol>
  <li>Donations to organizations like the Southern Poverty Law Center and the Anti-Defamation League.</li>
  <li>Sponsoring guards for synagogues who are denied publicly funded police details.</li>
  <li>Workshops on how to non-violently oppose Nazis in cities where they are staging demonstrations.</li>
</ol>

<p>After Vitalik liked the above tweet, I noticed that my post was censored
from <a href="https://reddit.com/r/ethereum">/r/ethereum</a> by the moderators (Vitalik is
also the lead moderator of /r/ethereum). This censorship occured days after it
had been on the front page, leading me to believe it was removed for no logical
reason other than distaste for the issue involved.</p>

<p><a href="https://www.reddit.com/r/ethereum/search?q=Fuck+Nazis&amp;restrict_sr=on&amp;sort=relevance&amp;t=all"> <img src="/public/img/fucknazis.us/eth-censored.png" alt="Removed from /r/ethereum" class="center-image" /> </a></p>

<p>I met Vitalik back in 2014, in the very early days of Ethereum, so I was
willing to give him the benefit of the doubt on the post removal. I shot him an
email on August 29th and again on the 31st but he is yet to respond.</p>

<p class="center-image"><img src="/public/img/fucknazis.us/reddit-mod.png" alt="No Response" /></p>

<p>His lack of response to me signals, but does not confirm, that it was him who
 censored Fuck Nazis and he is unwilling to justify his actions to me directly.</p>

<p>The Ethereum Foundation and affiliated contributors have no legal requirement to grant me
free speech as a private organization.</p>

<p>That said, they do have a moral responsibility to protect free speech and to be
inclusive of many different kinds of people within their community. By actively
censoring my post on Fuck Nazis, they have chosen to signal their alignment
with a racist agenda and cause a chilling effect on future social impact
projects on Ethereum.</p>

<p>Their attempted censorship runs counter to the philosophy stated on
<a href="https://ethereum.org">ethereum.org</a>:</p>

<blockquote>
  <p>Ethereum is a  decentralized platform that runs smart contracts: applications
that run exactly as programmed without any possibility of downtime,
censorship, fraud or third party interference.</p>
</blockquote>

<p>While certainly Reddit doesn’t attempt to make the same censorship guarantees
as Ethereum, it’s difficult to imagine that if the leader of the development
team behind Ethereum is engaged in censoring causes spitefully on Reddit that
he will lead the team to fulfill the promises laid out in their statement.</p>

<p>Vitalik (and others in the Ethereum Foundation) must make clear their strong
intention for building inclusive and tolerant community with explicit actions
to improve the situation. Until sufficiently addressed, the entire community
must continually push leaders of the Ethereum community for more information
on how they plan to treat similar issues in the future.</p>

<p>This isn’t about getting an apology for censoring the Fuck Nazis thread, it’s
about not building technologies that put power into the hands of hateful
people who will use their power to infringe on your human rights.</p>

<p>Overall, this is the least of my worries currently: the Fuck Nazis Virtual
Lapel Pin project is currently facing <a href="/blog/2017/09/01/usg-censorship-fuck-nazis/">ongoing censorship from the U.S.
Goverment</a> as well. But I figured
it was worthwhile for me to write up this post so that the Ethereum community can
respond accordingly.</p>

  </div>
<hr>
  
<hr>
  <div class="post">
    <h2 class="post-title">
        <a href="/blog/2017/02/25/correct-blockchain-pointers/">
        Drawing the Blockchain
      </a>
  </h2>
  


    <span class="post-date">25 Feb 2017</span>

    <p><img src="/public/img/bitcoin/blockchainpointers.png" alt="This is correct" /></p>

<p>One of my major pet peeves in presentations about the blockchain is that most
people seem to draw the arrows/pointers in the incorrect direction.</p>

<p>Pointers should point from newer blocks to older blocks. This is because in a
blockchain, each block is immutable so it would be impossible to update older
blocks to point to newer ones. This is also in line with most singly linked
list representations. Because it can be confusing, it’s always best to include
reference heights for extra clarity.</p>


  </div>
<hr>
  
</div>

<div class="pagination">
  
    <a class="pagination-item newer" href="/blog/">Newer</a>
  
  
  <a class="pagination-item older" href="/blog/page/3/">Older</a>
  
</div>

</div>

        </div>
        <div class="content container" style="padding-bottom:0;padding-top:0;bottom:0px;">
            <div class="posts" style="height:14pt;margin-bottom:0;">
                <div class="post">
                    <p style="text-align:center;font-size:12pt;">&copy; 2011-2021 Jeremy Rubin. All rights reserved.</p>
                </div>
            </div>
        </div>
    </body>
</html>
